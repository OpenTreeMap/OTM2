{% extends "base.html" %}

{% block title %}Open Tree Map Test{% endblock title %}

{% block scripts %}
<link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}css/openlayers.css">
<script>
(function(require) {
    var $ = require("jquery"),
        app = require("treemap");

        $(function(){
            app.init(otm.settings);
        })
})(require);
</script>
{% endblock scripts %}

{% block content %}
  <div>
    <h2>Selected: <span id="attrs"></h2>
    <h2>Search</h2>
    <div>
      Species:
      <select data-class="search" id="search-species">
        <option value="">None</option>
        {% for sp in species %}
        <option value="{{ sp.pk }}">{{ sp.scientific_name }}</option>
        {% endfor %}
      </select>
    </div>
    <div>
      Boundaries:
      <select data-class="search" id="boundary">
        <option value="">None</option>
        {% for boundary in bounds %}
        <option value="{{ boundary.pk }}">{{ boundary.name }}</option>
        {% endfor %}
      </select>
    </div>
    <div>DBH Min: <input data-class="search" id="dbh-min"></div>
    <div>DBH Max: <input data-class="search" id="dbh-max"></div>
    <button id="perform-search">Go</button>
  </div>
  <div id="search-results"></div>
  <div>
    <h2>Search Result:</h2>
    <div id="search-results"></div>
  </div>
  <div id="map" style="width: 800px; height: 800px"></div>
{% endblock content %}
