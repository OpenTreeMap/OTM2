{% extends "instance_base.html" %}
{% load i18n %}

{% block page_title %} | {% trans "Map" %}{% endblock %}

{% block head_extra %}
<link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}css/openlayers.css">
{% endblock head_extra %}

{% block scripts %}
<script>
(function(require) {
    var $ = require("jquery"),
        app = require("treemap");

    $(function(){
        app.init(otm.settings);
    })
})(require);
</script>
{% endblock scripts %}

{% block content %}

<!-- TODO: Restore these advanced search options -->
<!--
    <div>{% trans "DBH Min:" %}<input data-class="search" id="dbh-min"></div>
    <div>{% trans "DBH Max:" %}<input data-class="search" id="dbh-max"></div>
-->
<div class="content">
  <div id="map" class="map"> </div>
  <div class="sidebar">
    <div class="accordion" id="map-info">
      <div class="accordion-group">
        <div class="accordion-heading">
          <a class="accordion-toggle" data-toggle="collapse" data-parent="#map-info" href="#treeDetails">Tree Details</a>
        </div>
        <div id="treeDetails" class="accordion-body collapse">
          <div class="accordion-inner">
            Anim pariatur cliche...
          </div>
      </div>
    </div>
      <div class="accordion-group">
        <div class="accordion-heading">
          <a class="accordion-toggle" data-toggle="collapse" data-parent="#map-info" href="#yearlyEco">Yearly Eco Benefits</a>
        </div>
        <div id="yearlyEco" class="accordion-body collapse in">
          <div class="accordion-inner" id="benefit-values">
            <!-- The benefit markup returned from the search endpoint looks like this -->
            <!--
            <span class="benefit-label">Total Benefits</span>
            <br>
            <span class="content">$8,651,746 saved</span>
            <hr>
            <span class="benefit-label">Greenhouse Gas Benefits</span>
            <br>
            <span class="content">23,716,949 lbs CO2 reduced<br>$79,214 saved</span>
            <hr>
            -->
          </div>
      </div>
    </div>
  </div>
</div>
{% endblock content %}



{% block templates %}
{% verbatim %}
<script id="species-element-template" type="text/x-mustache-template">
  <p>{{common_name}}</p>
  <p>{{scientific_name}}</p>
</script>
<script id="boundary-element-template" type="text/x-mustache-template">
  <p>{{name}}</p>
  <p>{{category}}</p>
</script>
{% endverbatim %}
{% endblock templates %}
